# üîÑ **Analysis & Concrete Steps**

You're absolutely right! Let me re-read and provide **minimal, focused steps** to get your DigitalCard Context working with subscriptions.

## üìñ **Recap from Start:**

1. **Original Problem**: Membership module installing automatically during tenant provisioning
2. **Discovery**: It was actually working correctly - admin clicks button, module installs
3. **Goal**: Apply same pattern to DigitalCard Context
4. **New Requirement**: Add subscription/payment layer

## üéØ **Current Status:**
- ‚úÖ Membership module works (install on button click)
- üîÑ DigitalCard Context partially developed
- ‚¨ú Subscription system not started
- ‚¨ú Payment integration not started

## üöÄ **Minimal Path to Production:**

### **Step 0: Verify Current State**
```bash
# Check what you have for DigitalCard
find app/ -name "*DigitalCard*" -type f
find app/ -name "*digital*card*" -type f
```

### **Step 1: Minimal Subscription System (2-3 days)**

**ONLY build what DigitalCard needs:**

```php
// app/Subscription/Core/SubscriptionManager.php (MINIMAL)
class SubscriptionManager
{
    public function subscribe(Tenant $tenant, string $module, string $plan): bool
    {
        // 1. Create subscription record
        DB::table('tenant_subscriptions')->insert([
            'tenant_id' => $tenant->id,
            'module' => $module,
            'plan' => $plan,
            'status' => 'active',
            'created_at' => now()
        ]);
        
        // 2. Install the module
        return $this->installModule($tenant, $module, $plan);
    }
    
    public function isSubscribed(Tenant $tenant, string $module): bool
    {
        return DB::table('tenant_subscriptions')
            ->where('tenant_id', $tenant->id)
            ->where('module', $module)
            ->where('status', 'active')
            ->exists();
    }
}

// Database migration (SIMPLE)
Schema::create('tenant_subscriptions', function (Blueprint $table) {
    $table->id();
    $table->foreignId('tenant_id');
    $table->string('module'); // 'digital_card', 'membership'
    $table->string('plan'); // 'free', 'premium'
    $table->string('status')->default('active');
    $table->timestamps();
});
```

### **Step 2: DigitalCard Installation Job (1 day)**

Copy from Membership module pattern:

```php
// app/Contexts/DigitalCard/Application/Jobs/InstallDigitalCardModule.php
class InstallDigitalCardModule implements ShouldQueue
{
    public function __construct(
        private Tenant $tenant,
        private string $plan = 'free'
    ) {}
    
    public function handle(): void
    {
        // 1. Check subscription
        if (!app(SubscriptionManager::class)->isSubscribed($this->tenant, 'digital_card')) {
            throw new NotSubscribedException('Tenant not subscribed to Digital Card');
        }
        
        // 2. Run DigitalCard migrations
        Artisan::call('migrate', [
            '--path' => 'app/Contexts/DigitalCard/Infrastructure/Database/Migrations',
            '--database' => 'tenant',
        ]);
        
        // 3. Seed data
        $seeder = new DigitalCardDatabaseSeeder();
        $seeder->run();
        
        // 4. Update tenant metadata
        $this->updateTenantMetadata();
    }
}
```

### **Step 3: Admin Button for DigitalCard (1 day)**

Copy from Membership UI:

```vue
<!-- In your admin show.blade.php -->
<button v-if="!digitalCardInstalled"
        @click="installDigitalCardModule"
        class="btn btn-primary">
    Install Digital Card Module
</button>

<script>
methods: {
    installDigitalCardModule() {
        axios.post(`/admin/tenants/${tenant.id}/install-digital-card`)
            .then(response => {
                // Show success
            });
    }
}
</script>
```

### **Step 4: Controller for Installation (1 day)**

```php
// app/Http/Controllers/Admin/TenantModuleController.php
public function installDigitalCard(string $tenantId)
{
    $tenant = Tenant::findOrFail($tenantId);
    
    // Check if already installed
    if ($this->isDigitalCardInstalled($tenant)) {
        return back()->with('error', 'Digital Card already installed');
    }
    
    // Dispatch installation job
    InstallDigitalCardModule::dispatch($tenant);
    
    return back()->with('success', 'Digital Card installation started');
}
```

### **Step 5: Free Trial for Nepali Parties (1 day)**

```php
// In SubscriptionManager
public function subscribeWithTrial(Tenant $tenant, string $module): bool
{
    // Check if Nepali political party
    if ($this->isNepaliPoliticalParty($tenant)) {
        return $this->subscribe($tenant, $module, 'free_trial');
    }
    
    // Others need payment
    return $this->subscribeWithPayment($tenant, $module);
}

private function isNepaliPoliticalParty(Tenant $tenant): bool
{
    return $tenant->country === 'NP' && 
           $tenant->organization_type === 'political_party' &&
           now()->lt('2025-12-31'); // 1 year free trial
}
```

## üìä **Simplified Database Schema:**

```sql
-- ONLY what's needed
CREATE TABLE tenant_subscriptions (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    tenant_id BIGINT,
    module VARCHAR(50), -- 'digital_card', 'membership'
    plan VARCHAR(50), -- 'free', 'premium', 'free_trial'
    status VARCHAR(20) DEFAULT 'active',
    trial_ends_at TIMESTAMP NULL,
    created_at TIMESTAMP,
    updated_at TIMESTAMP,
    INDEX idx_tenant_module (tenant_id, module)
);

CREATE TABLE tenant_module_installations (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    tenant_id BIGINT,
    module VARCHAR(50),
    installed_at TIMESTAMP,
    status VARCHAR(20) DEFAULT 'installed'
);
```

## üéØ **Concrete Development Order:**

### **Week 1: DigitalCard + Basic Subscription**
```
Day 1: Copy Membership pattern to DigitalCard
Day 2: Create minimal SubscriptionManager
Day 3: Add admin install button for DigitalCard
Day 4: Add free trial logic for Nepali parties
Day 5: Test complete flow
```

### **Week 2: Polish & Launch**
```
Day 6: Add basic payment placeholder (manual invoices)
Day 7: Create Nepali party onboarding flow
Day 8: Documentation & deployment
Day 9-10: Gather first users
```

## üîß **What to SKIP Initially:**

1. ‚ùå **Complex payment providers** (eSewa/Stripe) - Use manual invoices
2. ‚ùå **Advanced tax calculations** - Simple 13% VAT for Nepal
3. ‚ùå **Multiple subscription types** - Just module-level subscriptions
4. ‚ùå **Complex UI** - Simple admin buttons
5. ‚ùå **Hexagonal architecture** - Simple service class

## üí° **Payment Strategy (Phase 2):**

```php
// Phase 1: Manual payments
class ManualPaymentProcessor
{
    public function createInvoice(Tenant $tenant, float $amount): Invoice
    {
        // Generate PDF invoice
        // Email to tenant
        // Mark as pending payment
        
        return Invoice::create([
            'tenant_id' => $tenant->id,
            'amount' => $amount,
            'status' => 'pending',
            'due_date' => now()->addDays(15)
        ]);
    }
    
    public function recordPayment(Invoice $invoice, string $method): void
    {
        // Admin marks invoice as paid
        $invoice->update([
            'status' => 'paid',
            'paid_at' => now(),
            'payment_method' => $method // 'bank_transfer', 'esewa', 'cash'
        ]);
        
        // Activate subscription
        app(SubscriptionManager::class)->activate($invoice->tenant);
    }
}
```

## üé® **Minimal Admin Interface:**

```vue
<template>
  <div>
    <!-- Simple module cards -->
    <div class="module-card">
      <h4>Digital Card Module</h4>
      <p>Create digital membership cards</p>
      
      <div v-if="!isInstalled">
        <button @click="installModule" class="btn btn-sm btn-primary">
          Install Module
        </button>
        
        <div v-if="!isSubscribed" class="mt-2">
          <small>Requires subscription</small>
          <button @click="showSubscriptionModal" class="btn btn-sm btn-success">
            Subscribe Now
          </button>
        </div>
      </div>
      
      <div v-else>
        <span class="badge bg-success">‚úì Installed</span>
        <button @click="uninstallModule" class="btn btn-sm btn-danger">
          Remove
        </button>
      </div>
    </div>
    
    <!-- Simple subscription modal -->
    <div v-if="showModal" class="modal">
      <h5>Subscribe to Digital Card</h5>
      <p>Price: $9.99/month (Free for Nepali political parties)</p>
      
      <div v-if="isNepaliPoliticalParty">
        <p>üéâ You qualify for 1-year free trial!</p>
        <button @click="activateFreeTrial" class="btn btn-success">
          Activate Free Trial
        </button>
      </div>
      
      <div v-else>
        <p>Contact admin for payment options</p>
        <button @click="requestInvoice" class="btn btn-primary">
          Request Invoice
        </button>
      </div>
    </div>
  </div>
</template>
```

## üöÄ **Immediate Action Plan:**

### **Today (4 hours):**
1. Copy `InstallMembershipModule` job to `InstallDigitalCardModule`
2. Copy Membership migrations to DigitalCard migrations
3. Create basic `SubscriptionManager` with 3 methods:
   - `subscribe()` 
   - `isSubscribed()`
   - `activateFreeTrial()`

### **Tomorrow (4 hours):**
1. Add admin button for DigitalCard installation
2. Add free trial check for Nepali parties
3. Test complete flow

### **Day 3 (4 hours):**
1. Add manual invoice generation
2. Create simple admin panel to see subscriptions
3. Deploy to staging

## üìã **Checklist for MVP:**

- [ ] DigitalCard migrations run on demand
- [ ] Admin can install DigitalCard for tenant
- [ ] Subscription check before installation
- [ ] Nepali parties get free trial
- [ ] Manual invoice generation
- [ ] Basic admin subscription view

## ‚ùì **Questions to Answer Now:**

1. **Do you have DigitalCard migrations already?** If yes, where?
2. **Do you have DigitalCard seeder?** If yes, where?
3. **Should free trial be automatic or admin-approved?**
4. **What's your timeline for first Nepali party onboarding?**

**Let me know which files you already have for DigitalCard, and I'll help you connect them to the subscription system!**

Excellent! You have a **solid foundation** with the DigitalCard Context already built with proper DDD/TDD approach. Now let me provide **minimal, concrete steps** to add the subscription layer and installation flow.

## üìä **Current Status Analysis**

You have:
1. ‚úÖ **Complete DigitalCard Domain** (Aggregates, Value Objects, Events)
2. ‚úÖ **Full DDD/TDD implementation** with passing tests
3. ‚úÖ **Migrations** in `packages/laravel-backend/app/Contexts/DigitalCard/Infrastructure/Database/Migrations/`
4. ‚úÖ **Repository pattern** ready
5. ‚úÖ **Service Provider** for registration

You need:
1. üîÑ **Subscription layer** to control module installation
2. üîÑ **Admin installation flow** (like Membership module)
3. üîÑ **Free trial logic** for Nepali parties

## üöÄ **MINIMAL Implementation Plan (3 Days)**

### **Day 1: Basic Subscription System (4 hours)**

**Create ONLY 2 files:**

```php
// File: app/Domain/Subscription/SubscriptionManager.php
<?php

namespace App\Domain\Subscription;

use App\Models\Tenant;
use Illuminate\Support\Facades\DB;

class SubscriptionManager
{
    public function subscribe(Tenant $tenant, string $module, string $plan = 'free'): bool
    {
        // Check if already subscribed
        if ($this->isSubscribed($tenant, $module)) {
            return true;
        }
        
        DB::table('tenant_subscriptions')->insert([
            'tenant_id' => $tenant->id,
            'module' => $module,
            'plan' => $plan,
            'status' => 'active',
            'created_at' => now(),
            'updated_at' => now(),
        ]);
        
        return true;
    }
    
    public function isSubscribed(Tenant $tenant, string $module): bool
    {
        return DB::table('tenant_subscriptions')
            ->where('tenant_id', $tenant->id)
            ->where('module', $module)
            ->where('status', 'active')
            ->exists();
    }
    
    public function hasFreeTrial(Tenant $tenant): bool
    {
        // Check if Nepali political party (simplified)
        return $tenant->country === 'NP' && 
               $tenant->organization_type === 'political_party';
    }
}
```

```php
// File: database/migrations/2025_12_26_140000_create_tenant_subscriptions_table.php
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('tenant_subscriptions', function (Blueprint $table) {
            $table->id();
            $table->foreignId('tenant_id')->constrained()->onDelete('cascade');
            $table->string('module'); // 'digital_card', 'membership'
            $table->string('plan')->default('free'); // 'free', 'premium', 'free_trial'
            $table->string('status')->default('active');
            $table->timestamp('trial_ends_at')->nullable();
            $table->timestamps();
            
            $table->unique(['tenant_id', 'module']);
        });
    }
    
    public function down(): void
    {
        Schema::dropIfExists('tenant_subscriptions');
    }
};
```

### **Day 2: Installation Job & Admin Controller (4 hours)**

**Copy Membership pattern:**

```php
// File: app/Contexts/DigitalCard/Application/Jobs/InstallDigitalCardModule.php
<?php

namespace App\Contexts\DigitalCard\Application\Jobs;

use App\Domain\Subscription\SubscriptionManager;
use App\Models\Tenant;
use Illuminate\Bus\Queueable;
use Illuminate\Contracts\Queue\ShouldQueue;
use Illuminate\Foundation\Bus\Dispatchable;
use Illuminate\Queue\InteractsWithQueue;
use Illuminate\Queue\SerializesModels;
use Illuminate\Support\Facades\Artisan;

class InstallDigitalCardModule implements ShouldQueue
{
    use Dispatchable, InteractsWithQueue, Queueable, SerializesModels;

    public function __construct(
        private Tenant $tenant,
        private string $plan = 'free'
    ) {}

    public function handle(): void
    {
        $subscriptionManager = app(SubscriptionManager::class);
        
        // Check subscription
        if (!$subscriptionManager->isSubscribed($this->tenant, 'digital_card')) {
            throw new \Exception('Tenant not subscribed to Digital Card module');
        }
        
        // Set tenant context
        $this->tenant->makeCurrent();
        
        // Run DigitalCard migrations
        Artisan::call('migrate', [
            '--path' => 'app/Contexts/DigitalCard/Infrastructure/Database/Migrations',
            '--database' => 'tenant',
            '--force' => true,
        ]);
        
        // Update tenant metadata (optional)
        $this->tenant->update([
            'metadata->installed_modules->digital_card' => [
                'installed_at' => now(),
                'plan' => $this->plan,
                'status' => 'active'
            ]
        ]);
    }
}
```

```php
// File: app/Http/Controllers/Admin/TenantModuleController.php
<?php

namespace App\Http\Controllers\Admin;

use App\Contexts\DigitalCard\Application\Jobs\InstallDigitalCardModule;
use App\Domain\Subscription\SubscriptionManager;
use App\Models\Tenant;
use Illuminate\Http\Request;

class TenantModuleController extends Controller
{
    public function installDigitalCard(Request $request, string $tenantId)
    {
        $tenant = Tenant::findOrFail($tenantId);
        
        // Check if DigitalCard is already installed
        if ($this->isModuleInstalled($tenant, 'digital_card')) {
            return back()->with('error', 'Digital Card module is already installed');
        }
        
        $subscriptionManager = app(SubscriptionManager::class);
        
        // Handle free trial for Nepali parties
        if ($subscriptionManager->hasFreeTrial($tenant)) {
            $subscriptionManager->subscribe($tenant, 'digital_card', 'free_trial');
        } else {
            // Check if subscribed (for non-Nepali parties)
            if (!$subscriptionManager->isSubscribed($tenant, 'digital_card')) {
                return back()->with('error', 'Tenant needs to subscribe to Digital Card module first');
            }
        }
        
        // Dispatch installation job
        InstallDigitalCardModule::dispatch($tenant);
        
        return back()->with('success', 'Digital Card module installation started');
    }
    
    private function isModuleInstalled(Tenant $tenant, string $module): bool
    {
        $installed = $tenant->metadata['installed_modules'][$module] ?? null;
        return !empty($installed);
    }
}
```

### **Day 3: Admin UI & Routes (4 hours)**

**Add to existing admin view:**

```php
// In your admin/tenants/show.blade.php - ADD THIS SECTION:
<div class="card mt-4">
    <div class="card-header">
        <h5 class="mb-0">Module Management</h5>
    </div>
    <div class="card-body">
        <!-- Digital Card Module Card -->
        <div class="module-card mb-3 p-3 border rounded">
            <div class="d-flex justify-content-between align-items-center">
                <div>
                    <h6 class="mb-1">Digital Card Module</h6>
                    <p class="text-muted mb-0 small">
                        Create digital membership cards with QR codes
                    </p>
                </div>
                
                @php
                    $isDigitalCardInstalled = isset($tenant->metadata['installed_modules']['digital_card']);
                    $hasDigitalCardSubscription = \App\Domain\Subscription\SubscriptionManager::isSubscribed($tenant, 'digital_card');
                @endphp
                
                <div>
                    @if($isDigitalCardInstalled)
                        <span class="badge bg-success">‚úì Installed</span>
                    @else
                        <button type="button" 
                                class="btn btn-sm btn-primary"
                                data-bs-toggle="modal" 
                                data-bs-target="#installDigitalCardModal">
                            Install Module
                        </button>
                    @endif
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal for Digital Card Installation -->
<div class="modal fade" id="installDigitalCardModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <form action="{{ route('admin.tenants.install-digital-card', $tenant) }}" method="POST">
                @csrf
                <div class="modal-header">
                    <h5 class="modal-title">Install Digital Card Module</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    @if(\App\Domain\Subscription\SubscriptionManager::hasFreeTrial($tenant))
                        <div class="alert alert-success">
                            <i class="fas fa-gift"></i> This tenant qualifies for a 1-year free trial!
                        </div>
                        <p>The Digital Card module will be activated immediately with full features.</p>
                    @else
                        <div class="alert alert-info">
                            <i class="fas fa-info-circle"></i> Subscription required for this module.
                        </div>
                        <p>Please ensure the tenant has an active subscription before installation.</p>
                    @endif
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-primary">
                        @if(\App\Domain\Subscription\SubscriptionManager::hasFreeTrial($tenant))
                            Activate Free Trial & Install
                        @else
                            Install Module
                        @endif
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
```

**Add route:**

```php
// In routes/admin.php
Route::post('/tenants/{tenant}/install-digital-card', 
    [TenantModuleController::class, 'installDigitalCard'])
    ->name('admin.tenants.install-digital-card');
```

## üéØ **Immediate Action (Today - 2 hours)**

### **Step 1: Create Subscription Table (15 min)**
```bash
cd packages/laravel-backend
php artisan make:migration create_tenant_subscriptions_table
# Copy migration code above
php artisan migrate
```

### **Step 2: Create SubscriptionManager (15 min)**
```bash
mkdir -p app/Domain/Subscription
# Create SubscriptionManager.php with code above
```

### **Step 3: Copy Installation Job (15 min)**
```bash
# Copy from Membership module or create new file:
php artisan make:job InstallDigitalCardModule
# Paste job code above
```

### **Step 4: Add Admin Button (30 min)**
1. Add the modal HTML to your admin tenant show view
2. Add the route in `routes/admin.php`
3. Create or extend `TenantModuleController`

### **Step 5: Test (45 min)**
```bash
# Create a test tenant
php artisan tinker
> $tenant = App\Models\Tenant::create([
>     'name' => 'Test Nepali Party',
>     'slug' => 'nepali-test',
>     'country' => 'NP',
>     'organization_type' => 'political_party',
>     'database_name' => 'tenant_nepali_test',
> ]);

# Test free trial logic
> app(App\Domain\Subscription\SubscriptionManager::class)->hasFreeTrial($tenant);
# Should return true
```

## üìã **Checklist for MVP Launch**

- [ ] `tenant_subscriptions` table exists
- [ ] `SubscriptionManager` class with 3 methods
- [ ] `InstallDigitalCardModule` job
- [ ] Admin install button in tenant view
- [ ] Route for installation
- [ ] Free trial detection for Nepali parties
- [ ] Manual test: Install module for Nepali party

## üîß **What to SKIP Initially**

1. **Complex payment processing** - Manual invoices only
2. **Multiple subscription tiers** - Just module-level on/off
3. **Billing UI** - Admin manually updates subscription status
4. **Usage tracking** - Phase 2 feature
5. **Email notifications** - Phase 2 feature

## üí° **Simple Payment Workflow (Phase 1.5)**

For non-Nepali parties, use this manual flow:

```php
// In admin panel (simple approach)
public function activateSubscription(Request $request, Tenant $tenant)
{
    $request->validate([
        'module' => 'required|in:digital_card,membership',
        'plan' => 'required|in:monthly,yearly',
        'amount' => 'required|numeric',
    ]);
    
    // Create manual invoice
    $invoice = $tenant->invoices()->create([
        'amount' => $request->amount,
        'description' => "{$request->plan} subscription for {$request->module}",
        'due_date' => now()->addDays(7),
        'status' => 'pending',
    ]);
    
    // Admin can mark as paid later
    return back()->with('success', 'Invoice created. Activate after payment.');
}
```

## üé® **Admin Panel Preview**

```
TENANT: Nepali Democratic Party (NP - Political Party)
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Installed Modules                       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚ñ° Membership Module      [Installed]    ‚îÇ
‚îÇ ‚ñ° Digital Card Module    [Install Now]  ‚îÇ
‚îÇ                                          ‚îÇ
‚îÇ [Install Now] button shows modal:       ‚îÇ
‚îÇ "üéâ Free 1-year trial available!"       ‚îÇ
‚îÇ [Activate Free Trial & Install]         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## ‚ùì **Questions to Clarify**

1. **Membership module reference**: Can you share the `InstallMembershipModule` job path?
2. **Admin controller**: Where is your current tenant admin controller?
3. **Tenant metadata**: Do you use JSON column for tenant metadata already?

## üö® **Critical: Test Your DigitalCard Migrations First**

Before implementing, verify your migrations work:

```bash
cd packages/laravel-backend

# Test with a tenant
php artisan tinker
> $tenant = App\Models\Tenant::first();
> $tenant->makeCurrent();
> Artisan::call('migrate', [
>     '--path' => 'app/Contexts/DigitalCard/Infrastructure/Database/Migrations',
>     '--database' => 'tenant',
>     '--force' => true
> ]);
> // Should succeed without errors
```

**Time Estimate**: 8-12 hours total work  
**First Nepali Party Onboarding**: Possible within 2 days  
**Risk**: Low (using proven Membership module pattern)

Ready to start with Step 1?
